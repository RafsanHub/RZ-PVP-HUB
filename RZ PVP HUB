--// Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UIS = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

--// Variables
local speedLevels = {80, 100, 150, 200, 250, 300}
local speedIndex = 0
local currentSpeed = 16
local jumpLevels = {100, 150, 200, 250}
local jumpIndex = 0

--// GUI Setup
local gui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
gui.Name = "RK_AimbotUI"
gui.ResetOnSpawn = false

--// Circular Menu
local circleMenu = Instance.new("TextButton", gui)
circleMenu.Size = UDim2.new(0, 60, 0, 60)
circleMenu.Position = UDim2.new(0.05, 0, 0.05, 0)
circleMenu.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
circleMenu.Text = "RZ"
circleMenu.TextColor3 = Color3.fromRGB(255, 80, 80)
circleMenu.Font = Enum.Font.SourceSansBold
circleMenu.TextSize = 24
circleMenu.AutoButtonColor = false

local circleCorner = Instance.new("UICorner", circleMenu)
circleCorner.CornerRadius = UDim.new(1, 0)

--// Popup Menu
local popupMenu = Instance.new("Frame", gui)
popupMenu.Size = UDim2.new(0, 150, 0, 280)
popupMenu.Position = UDim2.new(0.05, 70, 0.05, 0)
popupMenu.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
popupMenu.Visible = false

local popupCorner = Instance.new("UICorner", popupMenu)
popupCorner.CornerRadius = UDim.new(0, 15)

--// Title
local titleLabel = Instance.new("TextLabel", popupMenu)
titleLabel.Size = UDim2.new(1, 0, 0, 30)
titleLabel.Position = UDim2.new(0, 0, 0, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "RZ PVP HUB"
titleLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
titleLabel.Font = Enum.Font.SourceSansBold
titleLabel.TextSize = 20

--// Aimfeature Button
local aimFeatureBtn = Instance.new("TextButton", popupMenu)
aimFeatureBtn.Size = UDim2.new(1, -20, 0, 40)
aimFeatureBtn.Position = UDim2.new(0, 10, 0, 45)
aimFeatureBtn.Text = "Aimfeature"
aimFeatureBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
aimFeatureBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
aimFeatureBtn.Font = Enum.Font.SourceSansBold
aimFeatureBtn.TextSize = 16
aimFeatureBtn.AutoButtonColor = false

local btnCorner = Instance.new("UICorner", aimFeatureBtn)
btnCorner.CornerRadius = UDim.new(0, 5)

local btnStroke = Instance.new("UIStroke", aimFeatureBtn)
btnStroke.Color = Color3.fromRGB(255, 0, 0)
btnStroke.Thickness = 2
btnStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

--// SPEED HACK Button
local speedBtn = Instance.new("TextButton", popupMenu)
speedBtn.Size = UDim2.new(1, -20, 0, 40)
speedBtn.Position = UDim2.new(0, 10, 0, 95)
speedBtn.Text = "SPEED HACK: DEFAULT"
speedBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
speedBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
speedBtn.Font = Enum.Font.SourceSansBold
speedBtn.TextSize = 12

local speedCorner = Instance.new("UICorner", speedBtn)
speedCorner.CornerRadius = UDim.new(0, 15)

local speedStroke = Instance.new("UIStroke", speedBtn)
speedStroke.Color = Color3.fromRGB(255, 0, 0)
speedStroke.Thickness = 3
speedStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

speedBtn.MouseButton1Click:Connect(function()
    local char = LocalPlayer.Character
    if char and char:FindFirstChild("Humanoid") then
        speedIndex += 1
        if speedIndex > #speedLevels then
            speedIndex = 0
            currentSpeed = 50
            speedBtn.Text = "SPEED HACK: DEFAULT"
        else
            currentSpeed = speedLevels[speedIndex]
            speedBtn.Text = "SPEED HACK: " .. tostring(currentSpeed)
        end
    end
end)

RunService.RenderStepped:Connect(function()
    local char = LocalPlayer.Character
    if char and char:FindFirstChild("Humanoid") then
        char.Humanoid.WalkSpeed = currentSpeed
    end
end)

--// JUMP HACK Button
local jumpBtn = Instance.new("TextButton", popupMenu)
jumpBtn.Size = UDim2.new(1, -20, 0, 40)
jumpBtn.Position = UDim2.new(0, 10, 0, 145)
jumpBtn.Text = "JUMP HACK: DEFAULT"
jumpBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
jumpBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
jumpBtn.Font = Enum.Font.SourceSansBold
jumpBtn.TextSize = 12

local jumpCorner = Instance.new("UICorner", jumpBtn)
jumpCorner.CornerRadius = UDim.new(0, 15)

local jumpStroke = Instance.new("UIStroke", jumpBtn)
jumpStroke.Color = Color3.fromRGB(255, 0, 0)
jumpStroke.Thickness = 3
jumpStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

jumpBtn.MouseButton1Click:Connect(function()
    local char = LocalPlayer.Character
    if char and char:FindFirstChild("Humanoid") then
        jumpIndex += 1
        if jumpIndex > #jumpLevels then
            jumpIndex = 0
            char.Humanoid.JumpPower = 50
            jumpBtn.Text = "JUMP HACK: DEFAULT"
        else
            char.Humanoid.JumpPower = jumpLevels[jumpIndex]
            jumpBtn.Text = "JUMP HACK: " .. tostring(jumpLevels[jumpIndex])
        end
    end
end)

--// ESP HITBOX Button
local espBtn = Instance.new("TextButton", popupMenu)
espBtn.Size = UDim2.new(1, -20, 0, 40)
espBtn.Position = UDim2.new(0, 10, 0, 195)
espBtn.Text = "ESP HITBOX: OFF"
espBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
espBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
espBtn.Font = Enum.Font.SourceSansBold
espBtn.TextSize = 12
espBtn.AutoButtonColor = false

local espCorner = Instance.new("UICorner", espBtn)
espCorner.CornerRadius = UDim.new(0, 15)

local espStroke = Instance.new("UIStroke", espBtn)
espStroke.Color = Color3.fromRGB(255, 0, 0)
espStroke.Thickness = 3
espStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

espBtn.MouseButton1Click:Connect(function()
    espEnabled = not espEnabled
    espBtn.Text = "ESP HITBOX: " .. (espEnabled and "ON" or "OFF")

    for _, box in pairs(espBoxes) do box:Destroy() end
    espBoxes = {}

    if espEnabled then
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character then
                for _, partName in pairs({
                    "Head", "Torso", "UpperTorso", "LowerTorso",
                    "LeftArm", "RightArm", "LeftLeg", "RightLeg",
                    "LeftUpperArm", "RightUpperArm", "LeftLowerArm", "RightLowerArm",
                    "LeftUpperLeg", "RightUpperLeg", "LeftLowerLeg", "RightLowerLeg"
                }) do
                    local part = player.Character:FindFirstChild(partName)
                    if part and part:IsA("BasePart") then
                        local box = Instance.new("BoxHandleAdornment")
                        box.Size = part.Size
                        box.Adornee = part
                        box.Color3 = Color3.fromRGB(0, 255, 0)
                        box.Transparency = 0.4
                        box.AlwaysOnTop = true
                        box.ZIndex = 0
                        box.Parent = part
                        table.insert(espBoxes, box)
                    end
                end
            end
        end
    end
end)

--// CLOSE Button
local closeBtn = Instance.new("TextButton", popupMenu)
closeBtn.Size = UDim2.new(0.5, -15, 0, 30)
closeBtn.Position = UDim2.new(0, 10, 0, 245)
closeBtn.Text = "CLOSE"
closeBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
closeBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
closeBtn.Font = Enum.Font.SourceSansBold
closeBtn.TextSize = 12

local closeCorner = Instance.new("UICorner", closeBtn)
closeCorner.CornerRadius = UDim.new(0, 5)

local closeStroke = Instance.new("UIStroke", closeBtn)
closeStroke.Color = Color3.fromRGB(255, 0, 0)
closeStroke.Thickness = 2
closeStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

closeBtn.MouseButton1Click:Connect(function()
    popupMenu.Visible = false
end)

--// NEXT Button
local nextBtn = Instance.new("TextButton", popupMenu)
nextBtn.Size = UDim2.new(0.5, -15, 0, 30)
nextBtn.Position = UDim2.new(0.5, 5, 0, 245)
nextBtn.Text = "NEXT"
nextBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
nextBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
nextBtn.Font = Enum.Font.SourceSansBold
nextBtn.TextSize = 12

local nextCorner = Instance.new("UICorner", nextBtn)
nextCorner.CornerRadius = UDim.new(0, 5)

local nextStroke = Instance.new("UIStroke", nextBtn)
nextStroke.Color = Color3.fromRGB(255, 0, 0)
nextStroke.Thickness = 2
nextStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

--// NEXT Popup
local nextPopup = Instance.new("Frame", gui)
nextPopup.Size = UDim2.new(0, 300, 0, 280)
nextPopup.Position = UDim2.new(0.05, 230, 0.05, 0)
nextPopup.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
nextPopup.Visible = false

local nextPopupCorner = Instance.new("UICorner", nextPopup)
nextPopupCorner.CornerRadius = UDim.new(0, 15)

--// SILVER PLAN Title
local titleLabel = Instance.new("TextLabel", nextPopup)
titleLabel.Size = UDim2.new(1, 0, 0, 30)
titleLabel.Position = UDim2.new(0, 0, 0, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "DIAMOND PLUS+"
titleLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
titleLabel.Font = Enum.Font.SourceSansBold
titleLabel.TextSize = 20




--// INFO TEXT
local infoText = Instance.new("TextLabel", nextPopup)
infoText.Size = UDim2.new(1, -20, 0, 75)
infoText.Position = UDim2.new(0, 10, 0, 35)
infoText.BackgroundTransparency = 1
infoText.Text = "YOUR DEVICE MAY NOT SUPPORT THESE FEATURES YET. WEâ€™RE WORKING ON A FIX AND IT WILL BE AVAILABLE IN THE NEXT UPDATE. IF YOU PURCHASED THIS SCRIPT FROM THE OWNER, RAFSAN ZAMI, YOUâ€™LL AUTOMATICALLY GAIN ACCESS TO ALL UPCOMING FEATURES. MAKE SURE YOUâ€™VE PAID AND CAN ACCESS THE SCRIPT â€” OTHERWISE, YOU WONâ€™T BE ELIGIBLE FOR FUTURE UPDATES."
infoText.TextColor3 = Color3.fromRGB(255, 255, 255)
infoText.Font = Enum.Font.SourceSansBold
infoText.TextScaled = true
infoText.TextWrapped = true
infoText.TextXAlignment = Enum.TextXAlignment.Left
infoText.TextYAlignment = Enum.TextYAlignment.Top

--// PACKAGE Label
local packageLabel = Instance.new("TextLabel", nextPopup)
packageLabel.Size = UDim2.new(0, 90, 0, 20)
packageLabel.Position = UDim2.new(0, 10, 0, 115)
packageLabel.BackgroundTransparency = 1
packageLabel.Text = "PACKAGE:"
packageLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
packageLabel.Font = Enum.Font.SourceSansBold
packageLabel.TextScaled = true
packageLabel.TextWrapped = true
packageLabel.TextXAlignment = Enum.TextXAlignment.Left
packageLabel.TextYAlignment = Enum.TextYAlignment.Top

--// DIAMOND PLUS Label (rainbow glow)
local diamondLabel = Instance.new("TextLabel", nextPopup)
diamondLabel.Size = UDim2.new(0, 160, 0, 20)
diamondLabel.Position = UDim2.new(0, 105, 0, 115)
diamondLabel.BackgroundTransparency = 1
diamondLabel.Text = "DIAMOND PLUS ðŸ’Ž+"
diamondLabel.Font = Enum.Font.SourceSansBold
diamondLabel.TextScaled = true
diamondLabel.TextWrapped = true
diamondLabel.TextXAlignment = Enum.TextXAlignment.Left
diamondLabel.TextYAlignment = Enum.TextYAlignment.Top

task.spawn(function()
    while true do
        for hue = 0, 1, 0.01 do
            diamondLabel.TextColor3 = Color3.fromHSV(hue, 1, 1)
            task.wait(0.05)
        end
    end
end)

--// SCRIPT INFO TEXT
local scriptInfo = Instance.new("TextLabel", nextPopup)
scriptInfo.Size = UDim2.new(1, -20, 0, 85)
scriptInfo.Position = UDim2.new(0, 10, 0, 145)
scriptInfo.BackgroundTransparency = 1
scriptInfo.Text = "VERSION: RZ_2025_2.1\nOWNER: RAFSAN ZAMI\nSCRIPT STATUS: PAID\nPRICE: $2.1 / 250 BDT\n\nWARNING: IF SOMEONE ELSE SOLD YOU THIS SCRIPT, YOU WERE SCAMMED AND WILL NOT BE ABLE TO USE THE NEXT UPDATE. ONLY BUYERS WHO PURCHASED FROM THE OWNER CAN ACCESS FUTURE FEATURES. STAY AWAY FROM SCAMMERS."
scriptInfo.TextColor3 = Color3.fromRGB(255, 255, 255)
scriptInfo.Font = Enum.Font.SourceSansBold
scriptInfo.TextScaled = true
scriptInfo.TextWrapped = true
scriptInfo.TextXAlignment = Enum.TextXAlignment.Left
scriptInfo.TextYAlignment = Enum.TextYAlignment.Top






--// CLOSE Button (nextPopup)
local closeBtn2 = Instance.new("TextButton", nextPopup)
closeBtn2.Size = UDim2.new(0.5, -15, 0, 30)
closeBtn2.Position = UDim2.new(0, 10, 0, 245)
closeBtn2.Text = "CLOSE"
closeBtn2.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
closeBtn2.TextColor3 = Color3.fromRGB(255, 0, 0)
closeBtn2.Font = Enum.Font.SourceSansBold
closeBtn2.TextSize = 12

local closeCorner2 = Instance.new("UICorner", closeBtn2)
closeCorner2.CornerRadius = UDim.new(0, 5)

local closeStroke2 = Instance.new("UIStroke", closeBtn2)
closeStroke2.Color = Color3.fromRGB(255, 0, 0)
closeStroke2.Thickness = 2
closeStroke2.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

closeBtn2.MouseButton1Click:Connect(function()
    nextPopup.Visible = false
end)

--// NEXT Button (nextPopup)
local nextBtn2 = Instance.new("TextButton", nextPopup)
nextBtn2.Size = UDim2.new(0.5, -15, 0, 30)
nextBtn2.Position = UDim2.new(0.5, 5, 0, 245)
nextBtn2.Text = "????"
nextBtn2.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
nextBtn2.TextColor3 = Color3.fromRGB(255, 0, 0)
nextBtn2.Font = Enum.Font.SourceSansBold
nextBtn2.TextSize = 12

local nextCorner2 = Instance.new("UICorner", nextBtn2)
nextCorner2.CornerRadius = UDim.new(0, 5)

local nextStroke2 = Instance.new("UIStroke", nextBtn2)
nextStroke2.Color = Color3.fromRGB(255, 0, 0)
nextStroke2.Thickness = 2
nextStroke2.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

--// Aimbot Toggle Button (Initially Hidden)
local aimBtn = Instance.new("TextButton", gui)
aimBtn.Size = UDim2.new(0, 140, 0, 60)
aimBtn.Position = UDim2.new(0.5, -50, 0.05, 0)
aimBtn.Text = "HEADLOCK:OFF"
aimBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
aimBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
aimBtn.Font = Enum.Font.SourceSansBold
aimBtn.TextSize = 22
aimBtn.Visible = false

local aimCorner = Instance.new("UICorner", aimBtn)
aimCorner.CornerRadius = UDim.new(0, 5)

local aimStroke = Instance.new("UIStroke", aimBtn)
aimStroke.Color = Color3.fromRGB(255, 0, 0)
aimStroke.Thickness = 2
aimStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

--// Drag Logic
local function makeDraggable(obj)
    local dragging = false
    local dragInput, dragStart, startPos

    obj.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = obj.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)

    obj.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseMovement then
            dragInput = input
        end
    end)

    UIS.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - dragStart
            obj.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
end

makeDraggable(circleMenu)
makeDraggable(popupMenu)
makeDraggable(aimBtn)
makeDraggable(nextPopup)

--// Button Connections
circleMenu.MouseButton1Click:Connect(function()
    local newState = not popupMenu.Visible
    popupMenu.Visible = newState
    nextPopup.Visible = false
end)

aimFeatureBtn.MouseButton1Click:Connect(function()
    aimBtn.Visible = not aimBtn.Visible
end)

nextBtn.MouseButton1Click:Connect(function()
    popupMenu.Visible = true
    nextPopup.Visible = true
end)

--// Aimbot Logic
aimBtn.MouseButton1Click:Connect(function()
    AimbotEnabled = not AimbotEnabled
    if AimbotEnabled then
        TargetPlayer = nil
        local shortestDistance = math.huge
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                local screenPos, onScreen = Camera:WorldToViewportPoint(player.Character.HumanoidRootPart.Position)
                if onScreen then
                    local dist = (Vector2.new(screenPos.X, screenPos.Y) - Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y/2)).Magnitude
                    if dist < shortestDistance then
                        shortestDistance = dist
                        TargetPlayer = player
                    end
                end
            end
        end
        aimBtn.Text = "HEAD LOCK:ON"
        aimBtn.TextColor3 = Color3.fromRGB(0, 255, 0) -- Green for ON
        aimBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        print("Target Locked:", TargetPlayer and TargetPlayer.Name or "None")
    else
        TargetPlayer = nil
        aimBtn.Text = "HEAD LOCK:OFF"
        aimBtn.TextColor3 = Color3.fromRGB(255, 0, 0) -- RED FOR OFF
        aimBtn.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        print("Aimbot Disabled")
    end
end)

--// Aimbot Tracking
RunService.RenderStepped:Connect(function()
    if AimbotEnabled and TargetPlayer and TargetPlayer.Character and TargetPlayer.Character:FindFirstChild("HumanoidRootPart") then
        Camera.CFrame = CFrame.new(Camera.CFrame.Position, TargetPlayer.Character.HumanoidRootPart.Position)
    end
end)
